@page "/stat-non-stat"
@inject NavigationManager NavigationManager

<div class="govuk-width-container ">
    <a class="govuk-back-link" href="javascript:history.back()">Back</a>
    <main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content" role="main">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
@*
                <form action="/Beta/V3/submit-s12-statement/stat-non-stat-answer" method="post">*@

@*                    <div class="govuk-form-group">*@

@*                        <fieldset class="govuk-fieldset">*@

                            <div class="govuk-fieldset__legend govuk-fieldset__legend--xl">

                                <h1 class="govuk-fieldset__heading">
                                    Do you want to submit a statutory or non-statutory annual statement?
                                </h1>

                            </div>


@*                            <div class="govuk-radios govuk-radios govuk-!-margin-top-2" data-module="govuk-radios">

                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="stat-non-stat" name="stat-non-stat"
                                           type="radio" value="Statutory" aria-describedby="stat-non-stat-item-hint">
                                    <label class="govuk-label govuk-radios__label" for="stat-non-stat">
                                        Statutory
                                    </label>
                                </div>


                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="stat-non-stat-2" name="stat-non-stat"
                                           type="radio" value="Non-statutory" aria-describedby="stat-non-stat-2-item-hint">
                                    <label class="govuk-label govuk-radios__label" for="stat-non-stat-2">
                                        Non-statutory
                                    </label>
                                </div>
                            </div>*@
                            <div class="govuk-label govuk-radios__label">
                                <RadzenRadioButtonList Orientation="Orientation.Vertical" bind-value=@value TValue="int" Change=@((args) => OnChange(args, "RadioButtonList with vertical orientation"))>
                                    <Items>
                                        <RadzenRadioButtonListItem Text="Statutory" Value="1" />
                                        <RadzenRadioButtonListItem Text="Non-statutory" Value="2" />
                                    </Items>
                                </RadzenRadioButtonList>
                            </div>
                            <div>
                            <RadzenButton Click=@(args => GoToNextPage(@value)) class="govuk-button govuk-button--start govuk-!-margin-top-2 govuk-!-margin-bottom-8 rz-border-radius-0"
                                          Style="background-color:#00703c">
                                <span style="font-weight:bold;font-size:large">Continue</span>
                            </RadzenButton>
                            </div>
@*                            </fieldset>*@
@*                            </div> *@
@*                </form>*@

            </div>
        </div>
    </main>
</div>

@code {
    int value;
    public void GoToNextPage(int? value)
    {
        bool forceLoad = true;
        if (value == 1)
        {
            NavigationManager.NavigateTo("/choose-a-reservoir/", forceLoad);
        }
        else
        {
            NavigationManager.NavigateTo("/non-stat", forceLoad);
        }
    }  

    void OnChange(int? value1, string name)
    {
        value = value1.Value;
        //console.Log($"{name} value changed to {value}");
    }
}