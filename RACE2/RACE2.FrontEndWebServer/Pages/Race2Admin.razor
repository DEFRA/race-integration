@page "/race2-admin"
@using RACE2.FrontEndWebServer.Components
@attribute [Authorize]

<Header />
<div class="govuk-width-container" style="min-height: 69vh;">
    <main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content" role="main">

        <div class="govuk-grid-row" style="flex-flow">
            <div class="govuk-grid-column-one-thirds">
                <div>
                    <span class="govuk-heading-xl">
                        Choose an action from the list below
                    </span>
                </div>
                <nav>
                    <NavLink class="nav-link" @onclick="goToRegPage" style="cursor:pointer">
                        1. New User Registration
                    </NavLink>
                    <NavLink class="nav-link" @onclick="goToChangePWPage" style="cursor:pointer">
                        2. Change User Password 
                    </NavLink>
                    <NavLink class="nav-link">
                        3. Reset User Lockout<br />
                        <EditForm Model="emailModel" OnValidSubmit="@OnValidSubmitUnlockUser" style="margin-left:20px;">
                            <DataAnnotationsValidator />
                            <ValidationSummary />
                            <div class="govuk-form-group">
                                <label class="govuk-label" for="govGateUsername">
                                    Email address
                                </label>
                                <ValidationMessage For="() => emailModel.UserEmail" />
                                <a id="email-error" style="text-decoration:none;">
                                    <InputText @bind-Value="emailModel.UserEmail" class="govuk-input govuk-!-width-three-quarters" aria-required="true" aria-describedby="govGateUserId-hint" id="govGateUsername" />
                                </a>
                            </div>
                            <button type="submit" class="btn btn-success">
                                Continue
                            </button>
                        </EditForm>
                    </NavLink>
                    <NavLink class="nav-link" style="cursor:pointer">
                        4. Set User As First Time User<br />
                        <EditForm Model="emailModel" OnValidSubmit="@OnValidSubmitFirstTimeUser" style="margin-left:20px;">
                            <DataAnnotationsValidator />
                            <ValidationSummary />
                            <div class="govuk-form-group">
                                <label class="govuk-label" for="govGateUsername">
                                    Email address
                                </label>
                                <ValidationMessage For="() => emailModel.UserEmail" />
                                <a id="email-error" style="text-decoration:none;">
                                    <InputText @bind-Value="emailModel.UserEmail" class="govuk-input govuk-!-width-three-quarters" aria-required="true" aria-describedby="govGateUserId-hint" id="govGateUsername" />
                                </a>
                            </div>
                            <button type="submit" class="btn btn-success">
                                Continue
                            </button>
                        </EditForm>
                    </NavLink>
                    <NavLink class="nav-link" @onclick="goToLogoutPage" style="cursor:pointer">
                        5. Sign Out
                    </NavLink>
                </nav>
            </div>
         </div>

    </main>
</div>
<Footer />
